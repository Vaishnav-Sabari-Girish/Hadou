# justfile for Test_Verilog Verilog project
# Generated by Hadou

# Project configuration
PROJECT_NAME := "Test_Verilog"
SRC_FILE := "main.v"
TEST_FILE := "main_test.v"
VVP_FILE := PROJECT_NAME + ".vvp"
VCD_FILE := PROJECT_NAME + ".vcd"

# Default recipe - compile and simulate
default: compile simulate

# Compile the design and testbench
compile:
    @echo "Compiling Verilog files..."
    iverilog -o {{VVP_FILE}} {{SRC_FILE}} {{TEST_FILE}}
    @echo "Compilation completed: {{VVP_FILE}}"

# Run the simulation
simulate: compile
    @echo "Running simulation..."
    vvp {{VVP_FILE}}
    @echo "Simulation completed. VCD file: {{VCD_FILE}}"

# View waveform (requires GTKWave)
view: simulate
    @echo "Opening waveform viewer..."
    gtkwave {{VCD_FILE}} &

# Clean generated files
clean:
    @echo "Cleaning generated files..."
    -rm {{VVP_FILE}} {{VCD_FILE}}
    @echo "Clean completed."

# Show project info
info:
    @echo "Project: {{PROJECT_NAME}}"
    @echo "Source file: {{SRC_FILE}}"
    @echo "Test file: {{TEST_FILE}}"
    @echo "Output files: {{VVP_FILE}}, {{VCD_FILE}}"

# List all available recipes
list:
    @just --list

# Help - show available commands
help:
    @echo "Available commands:"
    @echo "  just           - Compile and simulate (default)"
    @echo "  just compile   - Compile Verilog files"
    @echo "  just simulate  - Run simulation (generates VCD)"
    @echo "  just view      - Open GTKWave to view waveform"
    @echo "  just clean     - Remove generated files"
    @echo "  just info      - Show project information"
    @echo "  just list      - List all available recipes"
    @echo "  just help      - Show this help message"
